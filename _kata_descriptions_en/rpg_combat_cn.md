---
title: RPG Combat - RPG战斗
kata_name: rpg_combat
---

# RPG战斗

这个 Kata 让你为角色扮演游戏（RPG）建立简单的战斗规则。该领域不包括地图或任何其他角色技能，除了他们互相伤害和治疗的能力。

这个问题被分解成几个用户故事，以帮助你一次集中精力做一件事。完成一个用户故事后再开始下一个。一定要分小步来解决这个问题，并密切关注每一步的代码和自动测试的设计。

## 伤害与生命

1. 所有的角色，在创建时，都有：
   - 生命，从1000开始
   - 可以是活的或死的，开始是活的

1. 角色可以对角色造成伤害。
   - 伤害会从生命值中减去。
   - 当受到的伤害超过当前的生命值时，生命值变为0，角色死亡。
   - 一个角色不能对自己造成伤害

1. 角色可以治疗自己。
   - 死亡的角色不能进行治疗

## 等级

1. 所有角色都有一个等级，从1开始
   - 角色的生命值不能超过1000，直到他们达到6级，这时最大的生命值增加到1500。

1. 在造成伤害时。
   - 如果目标比攻击者高5级或以上，伤害会减少50%。
   - 如果目标比攻击者低5级或更多，伤害会增加50%。

## 派别

1. 角色可以属于一个或多个派别。
   - 新创建的角色不属于任何派别。

1. 一个角色可以加入或离开一个或多个派别。

1. 属于同一派别的玩家被认为是盟友。
   - 盟友之间不能互相造成伤害。
   - 盟友之间可以互相治疗，非盟友不能。

## 魔法物品

1. 除了角色之外，还有魔法物品。
   - 魔法物品有生命值。
   - 生命值的上限在物体被创建时就已经固定了。
   - 当生命值减少到0时，魔法物体会被*摧毁*。
   - 魔法物品不能被角色治疗。
   - 魔法物品不属于任何派别，它们是中立的。

1. 角色可以从治疗的魔法物品中获得生命值。
   - 角色可以从该物体中获得任何数量的生命值，最多就是它的最大值和他们自己的生命值。
   - 治愈魔法物体不能造成伤害

1. 角色可以通过使用魔法武器造成伤害。
   - 这些魔法物品在使用时能造成固定数量的伤害。
   - 伤害量在武器创建时就已经固定了。
   - 每次使用该武器时，生命值会减少1
   - 魔法武器不能给角色带来生命值。

## 升级

1. 在1000点伤害中幸存下来的1级角色会获得一个等级，（这可以在几次战斗中计算）。
   - 角色在受到伤害时不能获得等级，它直接发生在之后（如果玩家仍然活着）。
   - 2级角色需要再承受2000点伤害才能获得一个等级，3级角色需要再承受3000点伤害，以此类推。

1. 曾经加入过3个不同派别的1级角色获得一个等级。
   - 2级角色需要再加入3个不同的派别才能获得一个等级，3级角色需要再加入3个，以此类推。

1. 角色的最高等级是10级。
   - 角色不能失去他们已经获得的等级


## 鸣谢

这个 Kata 是由Daniel Ojeda Loisel发明的，这个描述改编自[Steve Smith的版本](https://github.com/ardalis/kata-catalog/blob/main/katas/RPG%20Combat.md)
