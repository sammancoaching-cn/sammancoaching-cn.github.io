---
theme: small_steps
title: 测试顺序
kata: yatzy
difficulty: 1
author: emilybache
affiliation: ProAgile
---

Yatzy 的测试顺序
------------------------

这个 Kata 在难度上比 Leap Years 高了几级。你正在设计一个主函数和几个辅助函数。你每次测试一个辅助函数的实现。该小组学习了这种将问题分解成适合 TDD 的片段的策略。

## 会议大纲

* 2分钟连接：两人讨论什么时候写测试或不写
* 10分钟解释 yatzy 并列出测试案例的清单  
* 10分钟的 Mob Programming，由你来导航  
* 30分钟的 Mob programming 继续
* 5分钟思考：整个小组的温度 - 太多/太少的测试？

### 连接
- 你通常为每个类和方法写一个单元测试吗？
- 记下你的个人策略，何时写测试，何时不写。

### 演示
从白板开始，解释 "Kata" 的目的。把描述读给小组听，并把类别和评分规则放在他们能看到的屏幕上。问小组成员是否能在描述中看到任何可以成为好的测试案例的例子。有很多啊! 问小组成员他们会以什么顺序来处理这些例子，在白板上记录下来。我估计他们会想按类别排序，例如：

- 小顺
- 大顺
- Chance（机会）
- 一
- 二、三、四、五、六
- 三条
- 四条
- yatzy
- ...

不要太担心他们想按什么顺序来做这些分类，尽管我建议你鼓励他们在处理对子或满堂红之前处理1、2等。

在 mob 中扮演导航员的角色，轮流担任导航员。引导小组进行设计，为每一个 yatzy 类别设置一个函数，并在主函数中设置某种开关语句来调用它们。每个这样的函数都以类别命名，接受一个包含五个整数的列表，返回一个整数。你至少应该在创建这些函数中的第一个时就能做到。

### 做
将导航员的角色移交给 mob 中的某个人，从你到达的地方继续编码。确保他们继续以小步的方式工作，逐一实现功能，并保持所有测试通过。

### 反思
- 我们是如何将问题分解成 TDD 的片段的？
- 与生产代码相比，我们有多少测试代码？
- 在你看来，我们是否测试过度、测试不足或测试正确？和你旁边的人比较一下便签。
- 就测试太多、不够或差不多的问题进行全组讨论。
